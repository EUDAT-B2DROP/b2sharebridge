{"version":3,"file":"b2sharebridge-vendors-node_modules_nextcloud_dialogs_dist_chunks_FilePicker-C5_MegvA_mjs.js?v=7b9f75fd4a70b0078a0c","mappings":"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","sources":["webpack:///b2sharebridge/node_modules/@nextcloud/sharing/dist/share/ShareType.js","webpack:///b2sharebridge/node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-C5_MegvA.mjs"],"sourcesContent":["/*!\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nexport var ShareType;\n(function (ShareType) {\n    ShareType[ShareType[\"User\"] = 0] = \"User\";\n    ShareType[ShareType[\"Group\"] = 1] = \"Group\";\n    ShareType[ShareType[\"Link\"] = 3] = \"Link\";\n    ShareType[ShareType[\"Email\"] = 4] = \"Email\";\n    ShareType[ShareType[\"Remote\"] = 6] = \"Remote\";\n    /**\n     * Was called `Circle` before Nextcloud 29\n     */\n    ShareType[ShareType[\"Team\"] = 7] = \"Team\";\n    ShareType[ShareType[\"Guest\"] = 8] = \"Guest\";\n    ShareType[ShareType[\"RemoteGroup\"] = 9] = \"RemoteGroup\";\n    ShareType[ShareType[\"Room\"] = 10] = \"Room\";\n    ShareType[ShareType[\"Deck\"] = 12] = \"Deck\";\n    /**\n     * @since 26.0.0\n     */\n    ShareType[ShareType[\"FederatedGroup\"] = 14] = \"FederatedGroup\";\n    /**\n     * Third party share types\n     *\n     * @since 25.0.0\n     */\n    ShareType[ShareType[\"ScienceMesh\"] = 15] = \"ScienceMesh\";\n})(ShareType || (ShareType = {}));\n","import { createElementBlock, openBlock, mergeProps, createElementVNode, createCommentVNode, toDisplayString, defineComponent, ref, computed, toRef, normalizeClass, normalizeStyle, unref, Fragment, createBlock, createVNode, toHandlers, withModifiers, onMounted, mergeModels, useModel, nextTick, onUnmounted, withCtx, createTextVNode, renderList, useTemplateRef, createSlots, shallowRef, watch } from \"vue\";\nimport { emit } from \"@nextcloud/event-bus\";\nimport NcDialog from \"@nextcloud/vue/components/NcDialog\";\nimport NcEmptyContent from \"@nextcloud/vue/components/NcEmptyContent\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { FileType, formatFileSize, sortNodes, davGetRecentSearch, davResultToNode, davRootPath, davGetDefaultPropfind, davGetClient, getFavoriteNodes } from \"@nextcloud/files\";\nimport NcButton from \"@nextcloud/vue/components/NcButton\";\nimport NcCheckboxRadioSwitch from \"@nextcloud/vue/components/NcCheckboxRadioSwitch\";\nimport NcDateTime from \"@nextcloud/vue/components/NcDateTime\";\nimport { mdiLock, mdiTag, mdiLink, mdiAccountPlus, mdiGroup, mdiNetwork, mdiFolder, mdiClock, mdiStar } from \"@mdi/js\";\nimport { ShareType } from \"@nextcloud/sharing\";\nimport NcIconSvgWrapper from \"@nextcloud/vue/components/NcIconSvgWrapper\";\nimport { u as usePreviewURL } from \"./preview-BIbJGxXF.mjs\";\nimport { t, l as logger, s as showError } from \"./index-Dh8t1o6F.mjs\";\nimport axios from \"@nextcloud/axios\";\nimport { loadState } from \"@nextcloud/initial-state\";\nimport { generateUrl } from \"@nextcloud/router\";\nimport { isPublicShare } from \"@nextcloud/sharing/public\";\nimport { toValue } from \"@vueuse/core\";\nimport NcActionInput from \"@nextcloud/vue/components/NcActionInput\";\nimport NcActions from \"@nextcloud/vue/components/NcActions\";\nimport NcBreadcrumb from \"@nextcloud/vue/components/NcBreadcrumb\";\nimport NcBreadcrumbs from \"@nextcloud/vue/components/NcBreadcrumbs\";\nimport { getCurrentUser } from \"@nextcloud/auth\";\nimport NcSelect from \"@nextcloud/vue/components/NcSelect\";\nimport NcTextField from \"@nextcloud/vue/components/NcTextField\";\nimport { joinPaths } from \"@nextcloud/paths\";\nimport { CancelablePromise } from \"cancelable-promise\";\nconst _sfc_main$e = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$c = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$b = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$a = { d: \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" };\nconst _hoisted_4$a = { key: 0 };\nfunction _sfc_render$7(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon file-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$a, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$a, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$b))\n  ], 16, _hoisted_1$c);\n}\nconst IconFile = /* @__PURE__ */ _export_sfc(_sfc_main$e, [[\"render\", _sfc_render$7]]);\nconst _sfc_main$d = {\n  name: \"MenuDownIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$b = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$a = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$9 = { d: \"M7,10L12,15L17,10H7Z\" };\nconst _hoisted_4$9 = { key: 0 };\nfunction _sfc_render$6(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon menu-down-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$9, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$9, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$a))\n  ], 16, _hoisted_1$b);\n}\nconst IconSortDescending = /* @__PURE__ */ _export_sfc(_sfc_main$d, [[\"render\", _sfc_render$6]]);\nconst _sfc_main$c = {\n  name: \"MenuUpIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$a = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$9 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$8 = { d: \"M7,15L12,10L17,15H7Z\" };\nconst _hoisted_4$8 = { key: 0 };\nfunction _sfc_render$5(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon menu-up-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$8, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$8, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$9))\n  ], 16, _hoisted_1$a);\n}\nconst IconSortAscending = /* @__PURE__ */ _export_sfc(_sfc_main$c, [[\"render\", _sfc_render$5]]);\nconst _sfc_main$b = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$9 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$8 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$7 = { d: \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" };\nconst _hoisted_4$7 = { key: 0 };\nfunction _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon folder-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$7, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$7, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$8))\n  ], 16, _hoisted_1$9);\n}\nconst IconFolder = /* @__PURE__ */ _export_sfc(_sfc_main$b, [[\"render\", _sfc_render$4]]);\nconst fileListIconStyles = {\n  \"file-picker__file-icon\": \"_file-picker__file-icon_3v9zx_9\",\n  \"file-picker__file-icon--primary\": \"_file-picker__file-icon--primary_3v9zx_21\",\n  \"file-picker__file-icon-overlay\": \"_file-picker__file-icon-overlay_3v9zx_25\"\n};\nconst _sfc_main$a = /* @__PURE__ */ defineComponent({\n  __name: \"FilePreview\",\n  props: {\n    node: {},\n    cropImagePreviews: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    const fileListIconStyles$1 = ref(fileListIconStyles);\n    const {\n      previewURL,\n      previewLoaded\n    } = usePreviewURL(toRef(props, \"node\"), computed(() => ({ cropPreview: props.cropImagePreviews })));\n    const isFile = computed(() => props.node.type === FileType.File);\n    const folderDecorationIcon = computed(() => {\n      if (props.node.type !== FileType.Folder) {\n        return null;\n      }\n      if (props.node.attributes?.[\"is-encrypted\"] === 1) {\n        return mdiLock;\n      }\n      if (props.node.attributes?.[\"is-tag\"]) {\n        return mdiTag;\n      }\n      const shareTypes = Object.values(props.node.attributes?.[\"share-types\"] || {}).flat();\n      if (shareTypes.some((type) => type === ShareType.Link || type === ShareType.Email)) {\n        return mdiLink;\n      }\n      if (shareTypes.length > 0) {\n        return mdiAccountPlus;\n      }\n      switch (props.node.attributes?.[\"mount-type\"]) {\n        case \"external\":\n        case \"external-session\":\n          return mdiNetwork;\n        case \"group\":\n          return mdiGroup;\n        case \"shared\":\n          return mdiAccountPlus;\n      }\n      return null;\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        style: normalizeStyle(unref(previewLoaded) ? { backgroundImage: `url(${unref(previewURL)})` } : void 0),\n        class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon\"])\n      }, [\n        !unref(previewLoaded) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          isFile.value ? (openBlock(), createBlock(IconFile, {\n            key: 0,\n            size: 32\n          })) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n            folderDecorationIcon.value ? (openBlock(), createBlock(unref(NcIconSvgWrapper), {\n              key: 0,\n              class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon-overlay\"]),\n              inline: \"\",\n              path: folderDecorationIcon.value,\n              size: 16\n            }, null, 8, [\"class\", \"path\"])) : createCommentVNode(\"\", true),\n            createVNode(IconFolder, {\n              class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon--primary\"]),\n              size: 32\n            }, null, 8, [\"class\"])\n          ], 64))\n        ], 64)) : createCommentVNode(\"\", true)\n      ], 6);\n    };\n  }\n});\nconst _hoisted_1$8 = [\"tabindex\", \"aria-selected\", \"data-filename\"];\nconst _hoisted_2$7 = { class: \"row-name\" };\nconst _hoisted_3$6 = {\n  class: \"file-picker__name-container\",\n  \"data-testid\": \"row-name\"\n};\nconst _hoisted_4$6 = [\"title\", \"textContent\"];\nconst _hoisted_5$1 = [\"textContent\"];\nconst _hoisted_6$1 = { class: \"row-size\" };\nconst _hoisted_7$1 = { class: \"row-modified\" };\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  __name: \"FileListRow\",\n  props: {\n    allowPickDirectory: { type: Boolean },\n    selected: { type: Boolean },\n    showCheckbox: { type: Boolean },\n    canPick: { type: Boolean },\n    node: {},\n    cropImagePreviews: { type: Boolean }\n  },\n  emits: [\"update:selected\", \"enterDirectory\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const timestamp = computed(() => props.node.mtime ?? 0);\n    const displayName = computed(() => props.node.attributes?.displayName || props.node.basename.slice(0, props.node.extension ? -props.node.extension.length : void 0));\n    const fileExtension = computed(() => props.node.extension);\n    const isDirectory = computed(() => props.node.type === FileType.Folder);\n    const isPickable = computed(() => props.canPick && (props.allowPickDirectory || !isDirectory.value));\n    function toggleSelected() {\n      emit2(\"update:selected\", !props.selected);\n    }\n    function handleClick() {\n      if (isDirectory.value) {\n        emit2(\"enterDirectory\", props.node);\n      } else {\n        toggleSelected();\n      }\n    }\n    function handleKeyDown(event) {\n      if (event.key === \"Enter\") {\n        handleClick();\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"tr\", mergeProps({\n        tabindex: __props.showCheckbox && !isDirectory.value ? void 0 : 0,\n        \"aria-selected\": !isPickable.value ? void 0 : __props.selected,\n        class: [\"file-picker__row\", [\n          {\n            \"file-picker__row--selected\": __props.selected && !__props.showCheckbox\n          }\n        ]],\n        \"data-filename\": __props.node.basename,\n        \"data-testid\": \"file-list-row\"\n      }, toHandlers({\n        click: handleClick,\n        /* same as tabindex -> if we hide the checkbox or this is a directory we need keyboard access to enter the directory or select the node */\n        ...!__props.showCheckbox || isDirectory.value ? { keydown: handleKeyDown } : {}\n      }, true)), [\n        __props.showCheckbox ? (openBlock(), createElementBlock(\"td\", {\n          key: 0,\n          class: \"row-checkbox\",\n          onClick: withModifiers(() => {\n          }, [\"stop\"])\n        }, [\n          createVNode(unref(NcCheckboxRadioSwitch), {\n            \"aria-label\": unref(t)(\"Select the row for {nodename}\", { nodename: displayName.value }),\n            disabled: !isPickable.value,\n            \"data-testid\": \"row-checkbox\",\n            \"model-value\": __props.selected,\n            \"onUpdate:modelValue\": toggleSelected\n          }, null, 8, [\"aria-label\", \"disabled\", \"model-value\"])\n        ])) : createCommentVNode(\"\", true),\n        createElementVNode(\"td\", _hoisted_2$7, [\n          createElementVNode(\"div\", _hoisted_3$6, [\n            createVNode(_sfc_main$a, {\n              node: __props.node,\n              \"crop-image-previews\": __props.cropImagePreviews\n            }, null, 8, [\"node\", \"crop-image-previews\"]),\n            createElementVNode(\"div\", {\n              class: \"file-picker__file-name\",\n              title: displayName.value,\n              textContent: toDisplayString(displayName.value)\n            }, null, 8, _hoisted_4$6),\n            createElementVNode(\"div\", {\n              class: \"file-picker__file-extension\",\n              textContent: toDisplayString(fileExtension.value)\n            }, null, 8, _hoisted_5$1)\n          ])\n        ]),\n        createElementVNode(\"td\", _hoisted_6$1, toDisplayString(unref(formatFileSize)(__props.node.size || 0)), 1),\n        createElementVNode(\"td\", _hoisted_7$1, [\n          createVNode(unref(NcDateTime), {\n            timestamp: timestamp.value,\n            \"ignore-seconds\": \"\"\n          }, null, 8, [\"timestamp\"])\n        ])\n      ], 16, _hoisted_1$8);\n    };\n  }\n});\nconst FileListRow = /* @__PURE__ */ _export_sfc(_sfc_main$9, [[\"__scopeId\", \"data-v-bfa2ae80\"]]);\nconst _hoisted_1$7 = {\n  \"aria-hidden\": \"true\",\n  class: \"file-picker__row loading-row\"\n};\nconst _hoisted_2$6 = {\n  key: 0,\n  class: \"row-checkbox\"\n};\nconst _hoisted_3$5 = { class: \"row-name\" };\nconst _hoisted_4$5 = { class: \"row-wrapper\" };\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  __name: \"LoadingTableRow\",\n  props: {\n    showCheckbox: { type: Boolean }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"tr\", _hoisted_1$7, [\n        __props.showCheckbox ? (openBlock(), createElementBlock(\"td\", _hoisted_2$6, [..._cache[0] || (_cache[0] = [\n          createElementVNode(\"span\", null, null, -1)\n        ])])) : createCommentVNode(\"\", true),\n        createElementVNode(\"td\", _hoisted_3$5, [\n          createElementVNode(\"div\", _hoisted_4$5, [\n            createElementVNode(\"span\", {\n              class: normalizeClass(unref(fileListIconStyles)[\"file-picker__file-icon\"])\n            }, null, 2),\n            _cache[1] || (_cache[1] = createElementVNode(\"span\", null, null, -1))\n          ])\n        ]),\n        _cache[2] || (_cache[2] = createElementVNode(\"td\", { class: \"row-size\" }, [\n          createElementVNode(\"span\")\n        ], -1)),\n        _cache[3] || (_cache[3] = createElementVNode(\"td\", { class: \"row-modified\" }, [\n          createElementVNode(\"span\")\n        ], -1))\n      ]);\n    };\n  }\n});\nconst LoadingTableRow = /* @__PURE__ */ _export_sfc(_sfc_main$8, [[\"__scopeId\", \"data-v-1f96131b\"]]);\nfunction useFilesSettings() {\n  const filesUserState = loadState(\"files\", \"config\", null);\n  const showHiddenFiles = ref(filesUserState?.show_hidden ?? true);\n  const sortFavoritesFirst = ref(filesUserState?.sort_favorites_first ?? true);\n  const cropImagePreviews = ref(filesUserState?.crop_image_previews ?? true);\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/configs\"));\n        showHiddenFiles.value = data?.data?.show_hidden ?? false;\n        sortFavoritesFirst.value = data?.data?.sort_favorites_first ?? true;\n        cropImagePreviews.value = data?.data?.crop_image_previews ?? true;\n      } catch (error) {\n        logger.error(\"Could not load files settings\", error);\n        showError(t(\"Could not load files settings\"));\n      }\n    } else {\n      logger.debug(\"Skip loading files settings - currently on public share\");\n    }\n  });\n  return {\n    showHiddenFiles,\n    sortFavoritesFirst,\n    cropImagePreviews\n  };\n}\nfunction useFilesViews(currentView) {\n  const convertOrder = (order2) => order2 === \"asc\" ? \"ascending\" : order2 === \"desc\" ? \"descending\" : \"none\";\n  const filesViewsState = loadState(\"files\", \"viewConfigs\", null);\n  const filesViewConfig = ref({\n    sortBy: filesViewsState?.files?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.files?.sorting_direction ?? \"asc\")\n  });\n  const recentViewConfig = ref({\n    sortBy: filesViewsState?.recent?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.recent?.sorting_direction ?? \"asc\")\n  });\n  const favoritesViewConfig = ref({\n    sortBy: filesViewsState?.favorites?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.favorites?.sorting_direction ?? \"asc\")\n  });\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/views\"));\n        filesViewConfig.value = {\n          sortBy: data?.data?.files?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.files?.sorting_direction)\n        };\n        favoritesViewConfig.value = {\n          sortBy: data?.data?.favorites?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.favorites?.sorting_direction)\n        };\n        recentViewConfig.value = {\n          sortBy: data?.data?.recent?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.recent?.sorting_direction)\n        };\n      } catch (error) {\n        logger.error(\"Could not load files views\", error);\n        showError(t(\"Could not load files views\"));\n      }\n    } else {\n      logger.debug(\"Skip loading files views - currently on public share\");\n    }\n  });\n  const currentConfig = computed(() => toValue(currentView || \"files\") === \"files\" ? filesViewConfig.value : toValue(currentView) === \"recent\" ? recentViewConfig.value : favoritesViewConfig.value);\n  const sortBy = computed(() => currentConfig.value.sortBy);\n  const order = computed(() => currentConfig.value.order);\n  return {\n    filesViewConfig,\n    favoritesViewConfig,\n    recentViewConfig,\n    currentConfig,\n    sortBy,\n    order\n  };\n}\nconst _hoisted_1$6 = {\n  key: 0,\n  class: \"row-checkbox\"\n};\nconst _hoisted_2$5 = { class: \"hidden-visually\" };\nconst _hoisted_3$4 = [\"aria-sort\"];\nconst _hoisted_4$4 = { class: \"header-wrapper\" };\nconst _hoisted_5 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _hoisted_6 = [\"aria-sort\"];\nconst _hoisted_7 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _hoisted_8 = [\"aria-sort\"];\nconst _hoisted_9 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  __name: \"FileList\",\n  props: /* @__PURE__ */ mergeModels({\n    currentView: {},\n    multiselect: { type: Boolean },\n    allowPickDirectory: { type: Boolean },\n    loading: { type: Boolean },\n    files: {}\n  }, {\n    \"path\": { required: true },\n    \"pathModifiers\": {},\n    \"selectedFiles\": { required: true },\n    \"selectedFilesModifiers\": {}\n  }),\n  emits: [\"update:path\", \"update:selectedFiles\"],\n  setup(__props) {\n    const path = useModel(__props, \"path\");\n    const selectedFiles = useModel(__props, \"selectedFiles\");\n    const props = __props;\n    const customSortingConfig = ref();\n    const { currentConfig: filesAppSorting } = useFilesViews(props.currentView);\n    const sortingConfig = computed(() => customSortingConfig.value ?? filesAppSorting.value);\n    const sortByName = computed(() => sortingConfig.value.sortBy === \"basename\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortBySize = computed(() => sortingConfig.value.sortBy === \"size\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortByModified = computed(() => sortingConfig.value.sortBy === \"mtime\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    function toggleSorting(sortBy) {\n      if (sortingConfig.value.sortBy === sortBy) {\n        if (sortingConfig.value.order === \"ascending\") {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"descending\" };\n        } else {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"ascending\" };\n        }\n      } else {\n        customSortingConfig.value = { sortBy, order: \"ascending\" };\n      }\n    }\n    const { sortFavoritesFirst, cropImagePreviews } = useFilesSettings();\n    const sortedFiles = computed(() => {\n      return sortNodes(props.files, {\n        sortFoldersFirst: true,\n        sortFavoritesFirst: sortFavoritesFirst.value,\n        sortingOrder: sortingConfig.value.order === \"descending\" ? \"desc\" : \"asc\",\n        sortingMode: sortingConfig.value.sortBy\n      });\n    });\n    const selectableFiles = computed(() => props.files.filter((file) => props.allowPickDirectory || file.type !== FileType.Folder));\n    const allSelected = computed(() => !props.loading && selectedFiles.value.length > 0 && selectedFiles.value.length >= selectableFiles.value.length);\n    function onSelectAll() {\n      if (selectedFiles.value.length < selectableFiles.value.length) {\n        selectedFiles.value = [...selectableFiles.value];\n      } else {\n        selectedFiles.value = [];\n      }\n    }\n    function onNodeSelected(file) {\n      if (selectedFiles.value.includes(file)) {\n        selectedFiles.value = selectedFiles.value.filter((f) => f.path !== file.path);\n      } else {\n        if (props.multiselect) {\n          selectedFiles.value = [...selectedFiles.value, file];\n        } else {\n          selectedFiles.value = [file];\n        }\n      }\n    }\n    function onChangeDirectory(dir) {\n      path.value = dir.path;\n    }\n    const skeletonNumber = ref(4);\n    const fileContainer = ref();\n    {\n      const resize = () => nextTick(() => {\n        const nodes = fileContainer.value?.parentElement?.children || [];\n        let height = fileContainer.value?.parentElement?.clientHeight || 450;\n        for (let index = 0; index < nodes.length; index++) {\n          if (!fileContainer.value?.isSameNode(nodes[index])) {\n            height -= nodes[index].clientHeight;\n          }\n        }\n        skeletonNumber.value = Math.max(1, Math.floor((height - 50) / 50));\n      });\n      onMounted(() => {\n        window.addEventListener(\"resize\", resize);\n        resize();\n      });\n      onUnmounted(() => {\n        window.removeEventListener(\"resize\", resize);\n      });\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"fileContainer\",\n        ref: fileContainer,\n        class: \"file-picker__files\"\n      }, [\n        createElementVNode(\"table\", null, [\n          createElementVNode(\"thead\", null, [\n            createElementVNode(\"tr\", null, [\n              __props.multiselect ? (openBlock(), createElementBlock(\"th\", _hoisted_1$6, [\n                createElementVNode(\"span\", _hoisted_2$5, toDisplayString(unref(t)(\"Select entry\")), 1),\n                __props.multiselect ? (openBlock(), createBlock(unref(NcCheckboxRadioSwitch), {\n                  key: 0,\n                  \"aria-label\": unref(t)(\"Select all entries\"),\n                  \"data-testid\": \"select-all-checkbox\",\n                  \"model-value\": allSelected.value,\n                  \"onUpdate:modelValue\": onSelectAll\n                }, null, 8, [\"aria-label\", \"model-value\"])) : createCommentVNode(\"\", true)\n              ])) : createCommentVNode(\"\", true),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortByName.value,\n                class: \"row-name\"\n              }, [\n                createElementVNode(\"div\", _hoisted_4$4, [\n                  _cache[3] || (_cache[3] = createElementVNode(\"span\", { class: \"file-picker__header-preview\" }, null, -1)),\n                  createVNode(unref(NcButton), {\n                    \"data-test\": \"file-picker_sort-name\",\n                    variant: \"tertiary\",\n                    wide: \"\",\n                    onClick: _cache[0] || (_cache[0] = ($event) => toggleSorting(\"basename\"))\n                  }, {\n                    icon: withCtx(() => [\n                      sortByName.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                        key: 0,\n                        size: 20\n                      })) : sortByName.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                        key: 1,\n                        size: 20\n                      })) : (openBlock(), createElementBlock(\"span\", _hoisted_5))\n                    ]),\n                    default: withCtx(() => [\n                      createTextVNode(\" \" + toDisplayString(unref(t)(\"Name\")), 1)\n                    ]),\n                    _: 1\n                  })\n                ])\n              ], 8, _hoisted_3$4),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortBySize.value,\n                class: \"row-size\"\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: \"tertiary\",\n                  wide: \"\",\n                  onClick: _cache[1] || (_cache[1] = ($event) => toggleSorting(\"size\"))\n                }, {\n                  icon: withCtx(() => [\n                    sortBySize.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                      key: 0,\n                      size: 20\n                    })) : sortBySize.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                      key: 1,\n                      size: 20\n                    })) : (openBlock(), createElementBlock(\"span\", _hoisted_7))\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(unref(t)(\"Size\")), 1)\n                  ]),\n                  _: 1\n                })\n              ], 8, _hoisted_6),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortByModified.value,\n                class: \"row-modified\"\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: \"tertiary\",\n                  wide: \"\",\n                  onClick: _cache[2] || (_cache[2] = ($event) => toggleSorting(\"mtime\"))\n                }, {\n                  icon: withCtx(() => [\n                    sortByModified.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                      key: 0,\n                      size: 20\n                    })) : sortByModified.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                      key: 1,\n                      size: 20\n                    })) : (openBlock(), createElementBlock(\"span\", _hoisted_9))\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(unref(t)(\"Modified\")), 1)\n                  ]),\n                  _: 1\n                })\n              ], 8, _hoisted_8)\n            ])\n          ]),\n          createElementVNode(\"tbody\", null, [\n            __props.loading ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(skeletonNumber.value, (index) => {\n              return openBlock(), createBlock(LoadingTableRow, {\n                key: index,\n                \"show-checkbox\": __props.multiselect\n              }, null, 8, [\"show-checkbox\"]);\n            }), 128)) : (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(sortedFiles.value, (file) => {\n              return openBlock(), createBlock(FileListRow, {\n                key: file.fileid || file.path,\n                \"allow-pick-directory\": __props.allowPickDirectory,\n                \"show-checkbox\": __props.multiselect,\n                \"can-pick\": __props.multiselect || selectedFiles.value.length === 0 || selectedFiles.value.includes(file),\n                selected: selectedFiles.value.includes(file),\n                node: file,\n                \"crop-image-previews\": unref(cropImagePreviews),\n                \"onUpdate:selected\": ($event) => onNodeSelected(file),\n                onEnterDirectory: onChangeDirectory\n              }, null, 8, [\"allow-pick-directory\", \"show-checkbox\", \"can-pick\", \"selected\", \"node\", \"crop-image-previews\", \"onUpdate:selected\"]);\n            }), 128))\n          ])\n        ])\n      ], 512);\n    };\n  }\n});\nconst FileList = /* @__PURE__ */ _export_sfc(_sfc_main$7, [[\"__scopeId\", \"data-v-149cddc3\"]]);\nconst _sfc_main$6 = {\n  name: \"HomeIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$5 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$4 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$3 = { d: \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" };\nconst _hoisted_4$3 = { key: 0 };\nfunction _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon home-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$3, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$4))\n  ], 16, _hoisted_1$5);\n}\nconst IconHome = /* @__PURE__ */ _export_sfc(_sfc_main$6, [[\"render\", _sfc_render$3]]);\nconst _sfc_main$5 = {\n  name: \"PlusIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$4 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$3 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$2 = { d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" };\nconst _hoisted_4$2 = { key: 0 };\nfunction _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon plus-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$2, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$2, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$3))\n  ], 16, _hoisted_1$4);\n}\nconst IconPlus = /* @__PURE__ */ _export_sfc(_sfc_main$5, [[\"render\", _sfc_render$2]]);\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerBreadcrumbs\",\n  props: {\n    path: {},\n    showMenu: { type: Boolean }\n  },\n  emits: [\"update:path\", \"create-node\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const actionsOpen = ref(false);\n    const newNodeName = ref(\"\");\n    const nameInput = useTemplateRef(\"nameInput\");\n    function validateInput() {\n      const name = newNodeName.value.trim();\n      const input = nameInput.value?.$el?.querySelector(\"input\");\n      let validity = \"\";\n      if (name.length === 0) {\n        validity = t(\"Folder name cannot be empty.\");\n      } else if (name.includes(\"/\")) {\n        validity = t('\"/\" is not allowed inside a folder name.');\n      } else if ([\"..\", \".\"].includes(name)) {\n        validity = t('\"{name}\" is an invalid folder name.', { name });\n      } else if (window.OC.config?.blacklist_files_regex && name.match(window.OC.config?.blacklist_files_regex)) {\n        validity = t('\"{name}\" is not an allowed folder name', { name });\n      }\n      if (input) {\n        input.setCustomValidity(validity);\n      }\n      return validity === \"\";\n    }\n    function onSubmit() {\n      const name = newNodeName.value.trim();\n      if (validateInput()) {\n        actionsOpen.value = false;\n        emit2(\"create-node\", name);\n        newNodeName.value = \"\";\n      }\n    }\n    const pathElements = computed(() => props.path.split(\"/\").filter((v) => v !== \"\").map((v, i, elements) => ({\n      name: v,\n      path: \"/\" + elements.slice(0, i + 1).join(\"/\")\n    })));\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcBreadcrumbs), { class: \"file-picker__breadcrumbs\" }, createSlots({\n        default: withCtx(() => [\n          createVNode(unref(NcBreadcrumb), {\n            name: unref(t)(\"All files\"),\n            title: unref(t)(\"Home\"),\n            onClick: _cache[0] || (_cache[0] = ($event) => emit2(\"update:path\", \"/\"))\n          }, {\n            icon: withCtx(() => [\n              createVNode(IconHome, { size: 20 })\n            ]),\n            _: 1\n          }, 8, [\"name\", \"title\"]),\n          (openBlock(true), createElementBlock(Fragment, null, renderList(pathElements.value, (dir) => {\n            return openBlock(), createBlock(unref(NcBreadcrumb), {\n              key: dir.path,\n              name: dir.name,\n              title: dir.path,\n              onClick: ($event) => emit2(\"update:path\", dir.path)\n            }, null, 8, [\"name\", \"title\", \"onClick\"]);\n          }), 128))\n        ]),\n        _: 2\n      }, [\n        __props.showMenu ? {\n          name: \"actions\",\n          fn: withCtx(() => [\n            createVNode(unref(NcActions), {\n              open: actionsOpen.value,\n              \"onUpdate:open\": _cache[2] || (_cache[2] = ($event) => actionsOpen.value = $event),\n              \"aria-label\": unref(t)(\"Create directory\"),\n              \"force-menu\": true,\n              \"force-name\": true,\n              \"menu-name\": unref(t)(\"New\"),\n              variant: \"secondary\",\n              onClose: _cache[3] || (_cache[3] = ($event) => newNodeName.value = \"\")\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconPlus, { size: 20 })\n              ]),\n              default: withCtx(() => [\n                createVNode(unref(NcActionInput), {\n                  ref_key: \"nameInput\",\n                  ref: nameInput,\n                  modelValue: newNodeName.value,\n                  \"onUpdate:modelValue\": [\n                    _cache[1] || (_cache[1] = ($event) => newNodeName.value = $event),\n                    validateInput\n                  ],\n                  label: unref(t)(\"New folder\"),\n                  placeholder: unref(t)(\"New folder name\"),\n                  onSubmit\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(IconFolder, { size: 20 })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"label\", \"placeholder\"])\n              ]),\n              _: 1\n            }, 8, [\"open\", \"aria-label\", \"menu-name\"])\n          ]),\n          key: \"0\"\n        } : void 0\n      ]), 1024);\n    };\n  }\n});\nconst FilePickerBreadcrumbs = /* @__PURE__ */ _export_sfc(_sfc_main$4, [[\"__scopeId\", \"data-v-4e6fd4e4\"]]);\nconst _sfc_main$3 = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$3 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$2 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$1 = { d: \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" };\nconst _hoisted_4$1 = { key: 0 };\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon close-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$1, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$1, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$2))\n  ], 16, _hoisted_1$3);\n}\nconst IconClose = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"render\", _sfc_render$1]]);\nconst _sfc_main$2 = {\n  name: \"MagnifyIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$2 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$1 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3 = { d: \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" };\nconst _hoisted_4 = { key: 0 };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon magnify-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$1))\n  ], 16, _hoisted_1$2);\n}\nconst IconMagnify = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"render\", _sfc_render]]);\nfunction useViews(isAnonymous) {\n  const allViews = [\n    {\n      id: \"files\",\n      label: t(\"All files\"),\n      icon: mdiFolder\n    },\n    {\n      id: \"recent\",\n      label: t(\"Recent\"),\n      icon: mdiClock\n    },\n    {\n      id: \"favorites\",\n      label: t(\"Favorites\"),\n      icon: mdiStar\n    }\n  ];\n  const availableViews = isAnonymous.value ? allViews.filter(({ id }) => id === \"files\") : allViews;\n  return {\n    allViews,\n    availableViews\n  };\n}\nconst _hoisted_1$1 = {\n  key: 0,\n  class: \"file-picker__side\"\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerNavigation\",\n  props: {\n    currentView: {},\n    filterString: {},\n    isCollapsed: { type: Boolean },\n    disabledNavigation: { type: Boolean }\n  },\n  emits: [\"update:currentView\", \"update:filterString\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const { availableViews } = useViews(ref(getCurrentUser() === null));\n    const currentViewObject = computed(() => availableViews.filter((v) => v.id === props.currentView)[0] ?? availableViews[0]);\n    const updateFilterValue = (value) => emit2(\"update:filterString\", value);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createVNode(unref(NcTextField), {\n          class: \"file-picker__filter-input\",\n          label: unref(t)(\"Filter file list\"),\n          \"show-trailing-button\": !!__props.filterString,\n          \"model-value\": __props.filterString,\n          \"onUpdate:modelValue\": updateFilterValue,\n          onTrailingButtonClick: _cache[0] || (_cache[0] = ($event) => updateFilterValue(\"\"))\n        }, {\n          \"trailing-button-icon\": withCtx(() => [\n            createVNode(IconClose, { size: 16 })\n          ]),\n          default: withCtx(() => [\n            createVNode(IconMagnify, { size: 16 })\n          ]),\n          _: 1\n        }, 8, [\"label\", \"show-trailing-button\", \"model-value\"]),\n        unref(availableViews).length > 1 && !__props.disabledNavigation ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          !__props.isCollapsed ? (openBlock(), createElementBlock(\"ul\", _hoisted_1$1, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList(unref(availableViews), (view) => {\n              return openBlock(), createElementBlock(\"li\", {\n                key: view.id\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: __props.currentView === view.id ? \"primary\" : \"tertiary\",\n                  wide: true,\n                  onClick: ($event) => _ctx.$emit(\"update:currentView\", view.id)\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(unref(NcIconSvgWrapper), {\n                      path: view.icon,\n                      size: 20\n                    }, null, 8, [\"path\"])\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(view.label), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"variant\", \"onClick\"])\n              ]);\n            }), 128))\n          ])) : (openBlock(), createBlock(unref(NcSelect), {\n            key: 1,\n            \"aria-label\": unref(t)(\"Current view selector\"),\n            clearable: false,\n            searchable: false,\n            options: unref(availableViews),\n            \"model-value\": currentViewObject.value,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => emit2(\"update:currentView\", $event.id))\n          }, null, 8, [\"aria-label\", \"options\", \"model-value\"]))\n        ], 64)) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nconst FilePickerNavigation = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"__scopeId\", \"data-v-86223490\"]]);\nfunction getRecentNodes(client) {\n  const controller = new AbortController();\n  const lastTwoWeek = Math.round(Date.now() / 1e3) - 60 * 60 * 24 * 14;\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const { data } = await client.search(\"/\", {\n        signal: controller.signal,\n        details: true,\n        data: davGetRecentSearch(lastTwoWeek)\n      });\n      const nodes = data.results.map((result) => davResultToNode(result));\n      resolve(nodes);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nfunction getNodes(client, directoryPath) {\n  const controller = new AbortController();\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const results = await client.getDirectoryContents(joinPaths(davRootPath, directoryPath), {\n        signal: controller.signal,\n        details: true,\n        includeSelf: true,\n        data: davGetDefaultPropfind()\n      });\n      const nodes = results.data.map((result) => davResultToNode(result));\n      resolve({\n        contents: nodes.filter(({ path }) => path !== directoryPath),\n        folder: nodes.find(({ path }) => path === directoryPath)\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nasync function getFile(client, path) {\n  const { data } = await client.stat(joinPaths(davRootPath, path), {\n    details: true,\n    data: davGetDefaultPropfind()\n  });\n  return davResultToNode(data);\n}\nfunction useDAVFiles(currentView, currentPath) {\n  const client = davGetClient();\n  const files = shallowRef([]);\n  const folder = shallowRef(null);\n  const isLoading = ref(true);\n  const promise = ref(null);\n  async function createDirectory(name) {\n    const path = joinPaths(currentPath.value, name);\n    await client.createDirectory(joinPaths(davRootPath, path));\n    const directory = await getFile(client, path);\n    files.value = [...files.value, directory];\n    return directory;\n  }\n  async function loadDAVFiles() {\n    if (promise.value) {\n      promise.value.cancel();\n    }\n    isLoading.value = true;\n    if (currentView.value === \"favorites\") {\n      promise.value = getFavoriteNodes(client, currentPath.value);\n    } else if (currentView.value === \"recent\") {\n      promise.value = getRecentNodes(client);\n    } else {\n      promise.value = getNodes(client, currentPath.value);\n    }\n    const content = await promise.value;\n    if (!content) {\n      return;\n    } else if (\"folder\" in content) {\n      folder.value = content.folder;\n      files.value = content.contents;\n    } else {\n      folder.value = null;\n      files.value = content;\n    }\n    promise.value = null;\n    isLoading.value = false;\n  }\n  watch([currentView, currentPath], () => loadDAVFiles());\n  onMounted(() => loadDAVFiles());\n  return {\n    isLoading,\n    files,\n    folder,\n    loadFiles: loadDAVFiles,\n    createDirectory\n  };\n}\nfunction useMimeFilter(allowedMIMETypes) {\n  const splittedTypes = computed(() => allowedMIMETypes.value.map((filter) => filter.split(\"/\")));\n  const isSupportedMimeType = (mime) => {\n    const mimeTypeArray = mime.split(\"/\");\n    return splittedTypes.value.some(([type, subtype]) => (\n      // check mime type matches or is wildcard\n      (mimeTypeArray[0] === type || type === \"*\") && (mimeTypeArray[1] === subtype || subtype === \"*\")\n    ));\n  };\n  return {\n    isSupportedMimeType\n  };\n}\nconst _hoisted_1 = { class: \"file-picker__main\" };\nconst _hoisted_2 = {\n  key: 1,\n  class: \"file-picker__view\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"FilePicker\",\n  props: {\n    buttons: {},\n    name: {},\n    allowPickDirectory: { type: Boolean, default: false },\n    disabledNavigation: { type: Boolean, default: false },\n    filterFn: { type: Function, default: void 0 },\n    mimetypeFilter: { default: () => [] },\n    multiselect: { type: Boolean, default: false },\n    path: { default: void 0 }\n  },\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit$1 = __emit;\n    const isOpen = ref(true);\n    const currentView = ref(\"files\");\n    const savedPath = ref(window?.sessionStorage.getItem(\"NC.FilePicker.LastPath\") || \"/\");\n    const navigatedPath = ref(\"\");\n    const currentPath = computed({\n      get: () => {\n        return currentView.value === \"files\" ? navigatedPath.value || props.path || savedPath.value : \"/\";\n      },\n      set: (path) => {\n        navigatedPath.value = path;\n      }\n    });\n    const selectedFiles = shallowRef([]);\n    const {\n      files,\n      folder: currentFolder,\n      isLoading,\n      loadFiles,\n      createDirectory\n    } = useDAVFiles(currentView, currentPath);\n    watch([navigatedPath], () => {\n      if (props.path === void 0 && navigatedPath.value) {\n        window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", navigatedPath.value);\n      }\n      selectedFiles.value = [];\n    });\n    let isHandlingCallback = false;\n    const dialogButtons = computed(() => {\n      const nodes = selectedFiles.value.length === 0 && props.allowPickDirectory && currentFolder.value ? [currentFolder.value] : selectedFiles.value;\n      const buttons = typeof props.buttons === \"function\" ? props.buttons(nodes, currentPath.value, currentView.value) : props.buttons;\n      return buttons.map((button) => ({\n        ...button,\n        disabled: button.disabled || isLoading.value,\n        callback: () => {\n          isHandlingCallback = true;\n          handleButtonClick(button.callback, nodes);\n        }\n      }));\n    });\n    async function handleButtonClick(callback, nodes) {\n      await callback(nodes);\n      emit$1(\"close\", nodes);\n      isHandlingCallback = false;\n    }\n    const viewHeadline = computed(() => currentView.value === \"favorites\" ? t(\"Favorites\") : currentView.value === \"recent\" ? t(\"Recent\") : \"\");\n    const filterString = ref(\"\");\n    const { isSupportedMimeType } = useMimeFilter(toRef(props, \"mimetypeFilter\"));\n    onMounted(() => loadFiles());\n    const { showHiddenFiles } = useFilesSettings();\n    const filteredFiles = computed(() => {\n      let filtered = files.value;\n      if (!showHiddenFiles.value) {\n        filtered = filtered.filter((file) => !file.basename.startsWith(\".\"));\n      }\n      if (props.mimetypeFilter.length > 0) {\n        filtered = filtered.filter((file) => file.type === \"folder\" || file.mime && isSupportedMimeType(file.mime));\n      }\n      if (filterString.value) {\n        filtered = filtered.filter((file) => file.basename.toLowerCase().includes(filterString.value.toLowerCase()));\n      }\n      if (props.filterFn) {\n        filtered = filtered.filter((f) => props.filterFn(f));\n      }\n      return filtered;\n    });\n    const noFilesDescription = computed(() => {\n      if (currentView.value === \"files\") {\n        return t(\"Upload some content or sync with your devices!\");\n      } else if (currentView.value === \"recent\") {\n        return t(\"Files and folders you recently modified will show up here.\");\n      } else {\n        return t(\"Files and folders you mark as favorite will show up here.\");\n      }\n    });\n    async function onCreateFolder(name) {\n      try {\n        const folder = await createDirectory(name);\n        navigatedPath.value = folder.path;\n        emit(\"files:node:created\", files.value.filter((file) => file.basename === name)[0]);\n      } catch (error) {\n        logger.warn(\"Could not create new folder\", { name, error });\n        showError(t(\"Could not create the new folder\"));\n      }\n    }\n    function handleClose(open) {\n      if (!open && !isHandlingCallback) {\n        emit$1(\"close\");\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcDialog), {\n        open: isOpen.value,\n        \"onUpdate:open\": [\n          _cache[6] || (_cache[6] = ($event) => isOpen.value = $event),\n          handleClose\n        ],\n        buttons: dialogButtons.value,\n        name: __props.name,\n        size: \"large\",\n        \"content-classes\": \"file-picker__content\",\n        \"dialog-classes\": \"file-picker\",\n        \"navigation-classes\": \"file-picker__navigation\"\n      }, {\n        navigation: withCtx(({ isCollapsed }) => [\n          createVNode(FilePickerNavigation, {\n            \"current-view\": currentView.value,\n            \"onUpdate:currentView\": _cache[0] || (_cache[0] = ($event) => currentView.value = $event),\n            \"filter-string\": filterString.value,\n            \"onUpdate:filterString\": _cache[1] || (_cache[1] = ($event) => filterString.value = $event),\n            \"is-collapsed\": isCollapsed,\n            \"disabled-navigation\": __props.disabledNavigation\n          }, null, 8, [\"current-view\", \"filter-string\", \"is-collapsed\", \"disabled-navigation\"])\n        ]),\n        default: withCtx(() => [\n          createElementVNode(\"div\", _hoisted_1, [\n            currentView.value === \"files\" ? (openBlock(), createBlock(FilePickerBreadcrumbs, {\n              key: 0,\n              path: currentPath.value,\n              \"onUpdate:path\": _cache[2] || (_cache[2] = ($event) => currentPath.value = $event),\n              \"show-menu\": __props.allowPickDirectory,\n              onCreateNode: onCreateFolder\n            }, null, 8, [\"path\", \"show-menu\"])) : (openBlock(), createElementBlock(\"div\", _hoisted_2, [\n              createElementVNode(\"h3\", null, toDisplayString(viewHeadline.value), 1)\n            ])),\n            unref(isLoading) || filteredFiles.value.length > 0 ? (openBlock(), createBlock(FileList, {\n              key: 2,\n              path: currentPath.value,\n              \"onUpdate:path\": [\n                _cache[3] || (_cache[3] = ($event) => currentPath.value = $event),\n                _cache[5] || (_cache[5] = ($event) => currentView.value = \"files\")\n              ],\n              \"selected-files\": selectedFiles.value,\n              \"onUpdate:selectedFiles\": _cache[4] || (_cache[4] = ($event) => selectedFiles.value = $event),\n              \"allow-pick-directory\": __props.allowPickDirectory,\n              \"current-view\": currentView.value,\n              files: filteredFiles.value,\n              multiselect: __props.multiselect,\n              loading: unref(isLoading),\n              name: viewHeadline.value\n            }, null, 8, [\"path\", \"selected-files\", \"allow-pick-directory\", \"current-view\", \"files\", \"multiselect\", \"loading\", \"name\"])) : filterString.value ? (openBlock(), createBlock(unref(NcEmptyContent), {\n              key: 3,\n              name: unref(t)(\"No matching files\"),\n              description: unref(t)(\"No files matching your filter were found.\")\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconFile)\n              ]),\n              _: 1\n            }, 8, [\"name\", \"description\"])) : (openBlock(), createBlock(unref(NcEmptyContent), {\n              key: 4,\n              name: unref(t)(\"No files in here\"),\n              description: noFilesDescription.value\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconFile)\n              ]),\n              _: 1\n            }, 8, [\"name\", \"description\"]))\n          ])\n        ]),\n        _: 1\n      }, 8, [\"open\", \"buttons\", \"name\"]);\n    };\n  }\n});\nconst FilePicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-ce116f72\"]]);\nexport {\n  FilePicker as default\n};\n//# sourceMappingURL=FilePicker-C5_MegvA.mjs.map\n"],"names":["ShareType","_sfc_main$e","name","emits","props","title","type","String","fillColor","default","size","Number","_hoisted_1$c","_hoisted_2$b","_hoisted_3$a","d","_hoisted_4$a","key","IconFile","_","_ctx","_cache","$props","$setup","$data","$options","$attrs","class","role","onClick","$event","$emit","fill","width","height","viewBox","_sfc_main$d","_hoisted_1$b","_hoisted_2$a","_hoisted_3$9","_hoisted_4$9","IconSortDescending","_sfc_main$c","_hoisted_1$a","_hoisted_2$9","_hoisted_3$8","_hoisted_4$8","IconSortAscending","_sfc_main$b","_hoisted_1$9","_hoisted_2$8","_hoisted_3$7","_hoisted_4$7","IconFolder","fileListIconStyles","_sfc_main$a","__name","node","cropImagePreviews","Boolean","setup","__props","fileListIconStyles$1","previewURL","previewLoaded","u","cropPreview","isFile","File","folderDecorationIcon","Folder","attributes","mdi","shareTypes","Object","values","flat","some","Link","Email","length","style","backgroundImage","value","NcIconSvgWrapper","inline","path","_hoisted_1$8","_hoisted_2$7","_hoisted_3$6","_hoisted_4$6","_hoisted_5$1","_hoisted_6$1","_hoisted_7$1","_sfc_main$9","allowPickDirectory","selected","showCheckbox","canPick","emit","__emit","emit2","timestamp","mtime","displayName","basename","slice","extension","fileExtension","isDirectory","isPickable","toggleSelected","handleClick","handleKeyDown","event","tabindex","click","keydown","NcCheckboxRadioSwitch","t","nodename","disabled","textContent","NcDateTime","FileListRow","_hoisted_1$7","_hoisted_2$6","_hoisted_3$5","_hoisted_4$5","_sfc_main$8","LoadingTableRow","useFilesSettings","filesUserState","showHiddenFiles","show_hidden","sortFavoritesFirst","sort_favorites_first","crop_image_previews","async","l","debug","data","get","error","s","_hoisted_1$6","_hoisted_2$5","_hoisted_3$4","_hoisted_4$4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_sfc_main$7","currentView","multiselect","loading","files","required","selectedFiles","customSortingConfig","currentConfig","filesAppSorting","convertOrder","order2","filesViewsState","filesViewConfig","sortBy","sorting_mode","order","sorting_direction","recentViewConfig","recent","favoritesViewConfig","favorites","useFilesViews","sortingConfig","sortByName","sortBySize","sortByModified","toggleSorting","sortedFiles","sortFoldersFirst","sortingOrder","sortingMode","selectableFiles","filter","file","allSelected","onSelectAll","onChangeDirectory","dir","skeletonNumber","fileContainer","resize","nodes","parentElement","children","clientHeight","index","isSameNode","Math","max","floor","window","addEventListener","removeEventListener","ref_key","ref","NcButton","variant","wide","icon","fileid","includes","f","onNodeSelected","onEnterDirectory","FileList","_sfc_main$6","_hoisted_1$5","_hoisted_2$4","_hoisted_3$3","_hoisted_4$3","IconHome","_sfc_main$5","_hoisted_1$4","_hoisted_2$3","_hoisted_3$2","_hoisted_4$2","IconPlus","_sfc_main$4","showMenu","actionsOpen","newNodeName","nameInput","validateInput","trim","input","$el","querySelector","validity","OC","config","blacklist_files_regex","match","setCustomValidity","onSubmit","pathElements","split","v","map","i","elements","join","N","fn","open","onClose","modelValue","label","placeholder","FilePickerBreadcrumbs","_sfc_main$3","_hoisted_1$3","_hoisted_2$2","_hoisted_3$1","_hoisted_4$1","IconClose","_sfc_main$2","_hoisted_1$2","_hoisted_2$1","_hoisted_3","_hoisted_4","IconMagnify","_hoisted_1$1","_sfc_main$1","filterString","isCollapsed","disabledNavigation","availableViews","isAnonymous","allViews","id","useViews","currentViewObject","updateFilterValue","NcTextField","onTrailingButtonClick","NcSelect","clearable","searchable","options","view","FilePickerNavigation","useDAVFiles","currentPath","client","folder","isLoading","promise","loadDAVFiles","cancel","controller","AbortController","lastTwoWeek","round","Date","now","CancelablePromise","resolve","reject","onCancel","abort","search","signal","details","results","result","getRecentNodes","directoryPath","getDirectoryContents","includeSelf","contents","find","getNodes","content","loadFiles","createDirectory","directory","stat","getFile","_hoisted_1","_hoisted_2","_sfc_main","buttons","filterFn","Function","mimetypeFilter","emit$1","isOpen","savedPath","sessionStorage","getItem","navigatedPath","set","currentFolder","setItem","isHandlingCallback","dialogButtons","button","callback","handleButtonClick","viewHeadline","isSupportedMimeType","allowedMIMETypes","splittedTypes","mime","mimeTypeArray","subtype","useMimeFilter","filteredFiles","filtered","startsWith","toLowerCase","noFilesDescription","onCreateFolder","warn","handleClose","NcDialog","navigation","onCreateNode","description","FilePicker"],"sourceRoot":""}