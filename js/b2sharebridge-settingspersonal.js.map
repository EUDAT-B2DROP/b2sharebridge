{"version":3,"file":"b2sharebridge-settingspersonal.js?v=8fa0c4177e459de4d698","mappings":"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","sources":["webpack:///b2sharebridge/webpack/runtime/chunk loaded","webpack:///b2sharebridge/src/components/TokenEditor.vue?vue&type=style&index=0&id=20ea2ead&lang=scss&scoped=true","webpack:///b2sharebridge/src/components/PersonalSettings.vue?vue&type=style&index=0&id=49352d8c&lang=css","webpack:///b2sharebridge/src/components/PersonalSettings.vue","webpack:///b2sharebridge/src/components/TokenEditor.vue","webpack://b2sharebridge/./src/components/TokenEditor.vue?2556","webpack://b2sharebridge/./src/components/TokenEditor.vue?5fbc","webpack://b2sharebridge/./src/components/PersonalSettings.vue?4f98","webpack://b2sharebridge/./src/components/PersonalSettings.vue?4185","webpack:///b2sharebridge/src/settings-personal.js","webpack:///b2sharebridge/webpack/bootstrap","webpack:///b2sharebridge/webpack/runtime/compat get default export","webpack:///b2sharebridge/webpack/runtime/define property getters","webpack:///b2sharebridge/webpack/runtime/ensure chunk","webpack:///b2sharebridge/webpack/runtime/global","webpack:///b2sharebridge/webpack/runtime/hasOwnProperty shorthand","webpack:///b2sharebridge/webpack/runtime/make namespace object","webpack:///b2sharebridge/webpack/runtime/runtimeId","webpack:///b2sharebridge/webpack/runtime/publicPath","webpack:///b2sharebridge/webpack/runtime/jsonp chunk loading","webpack:///b2sharebridge/webpack/runtime/nonce","webpack:///b2sharebridge/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.bridgetoken[data-v-20ea2ead]{border-bottom:1px solid var(--color-border)}.bridgetoken__fields[data-v-20ea2ead]{max-width:600px;margin-bottom:10px}.bridgetoken__fields__buttons[data-v-20ea2ead]{display:flex;flex-direction:column;align-items:end}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TokenEditor.vue\"],\"names\":[],\"mappings\":\"AACA,8BACC,2CAAA,CAEA,sCACC,eAAA,CACA,kBAAA,CAEA,+CACC,YAAA,CACA,qBAAA,CACA,eAAA\",\"sourcesContent\":[\"\\n.bridgetoken {\\n\\tborder-bottom: 1px solid var(--color-border);\\n\\n\\t&__fields {\\n\\t\\tmax-width: 600px;\\n\\t\\tmargin-bottom: 10px;\\n\\n\\t\\t&__buttons {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: column;\\n\\t\\t\\talign-items: end;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n#bridgepersonal {\n\tpadding: 10px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/PersonalSettings.vue\"],\"names\":[],\"mappings\":\";AAgGA;CACC,aAAa;AACd\",\"sourcesContent\":[\"<template>\\n\\t<div id=\\\"bridgepersonal\\\">\\n\\t\\t<h2>EUDAT B2SHARE Bridge</h2>\\n\\t\\t<div v-if=\\\"loaded && servers.length\\\">\\n\\t\\t\\t<ul>\\n\\t\\t\\t\\t<li v-for=\\\"server in servers\\\" :key=\\\"server.id\\\">\\n\\t\\t\\t\\t\\t<TokenEditor\\n\\t\\t\\t\\t\\t\\t:id=\\\"parseInt(server.id)\\\"\\n\\t\\t\\t\\t\\t\\t:name=\\\"server.name\\\"\\n\\t\\t\\t\\t\\t\\t:url=\\\"server.publishUrl\\\"\\n\\t\\t\\t\\t\\t\\t:token=\\\"getToken(server.id)\\\"\\n\\t\\t\\t\\t\\t\\t@token-change=\\\"updateTokens\\\" />\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\t\\t<div v-if=\\\"loaded && servers.length === 0\\\">\\n\\t\\t\\t<p>No B2SHARE servers configured! </p>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport axios from '@nextcloud/axios'\\nimport { generateUrl } from '@nextcloud/router'\\nimport TokenEditor from './TokenEditor.vue'\\n\\nexport default {\\n\\tname: 'PersonalSettings',\\n\\tcomponents: {\\n\\t\\tTokenEditor,\\n\\t},\\n\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tservers: [],\\n\\t\\t\\ttokens: [],\\n\\t\\t\\tloaded: false,\\n\\t\\t}\\n\\t},\\n\\n\\t/**\\n\\t * Fetch list of servers when the component is loaded\\n\\t */\\n\\tasync mounted() {\\n\\t\\tconst promise = this.loadServers()\\n\\t\\tawait this.loadTokens() // ask for both and then wait\\n\\t\\tawait promise\\n\\t\\tthis.loaded = true\\n\\t},\\n\\n\\tmethods: {\\n\\t\\tloadServers() {\\n\\t\\t\\tconst urlPath = '/apps/b2sharebridge/servers?requesttoken=' + encodeURIComponent(OC.requestToken)\\n\\n\\t\\t\\treturn axios\\n\\t\\t\\t\\t.get(generateUrl(urlPath))\\n\\t\\t\\t\\t.then((response) => {\\n\\t\\t\\t\\t\\tconsole.debug('Loaded servers:')\\n\\t\\t\\t\\t\\tconsole.debug(response)\\n\\t\\t\\t\\t\\tthis.servers = response.data\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\t\\tconsole.error('Fetching B2SHARE servers failed!')\\n\\t\\t\\t\\t\\tconsole.error(error)\\n\\t\\t\\t\\t})\\n\\t\\t},\\n\\n\\t\\tloadTokens() {\\n\\t\\t\\tconst urlPath = '/apps/b2sharebridge/apitoken?requesttoken=' + encodeURIComponent(OC.requestToken)\\n\\n\\t\\t\\treturn axios\\n\\t\\t\\t\\t.get(generateUrl(urlPath))\\n\\t\\t\\t\\t.then((response) => {\\n\\t\\t\\t\\t\\tconsole.debug('Loaded tokens:')\\n\\t\\t\\t\\t\\tconsole.debug(response)\\n\\t\\t\\t\\t\\tthis.tokens = response.data\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\t\\tconsole.error('Fetching B2SHARE tokens failed!')\\n\\t\\t\\t\\t\\tconsole.error(error)\\n\\t\\t\\t\\t})\\n\\t\\t},\\n\\n\\t\\tgetToken(serverId) {\\n\\t\\t\\treturn this.tokens[serverId] || ''\\n\\t\\t},\\n\\n\\t\\tupdateTokens() {\\n\\t\\t\\tthis.loadTokens()\\n\\t\\t\\tthis.$forceUpdate()\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style>\\n#bridgepersonal {\\n\\tpadding: 10px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\n\t<div id=\"bridgepersonal\">\n\t\t<h2>EUDAT B2SHARE Bridge</h2>\n\t\t<div v-if=\"loaded && servers.length\">\n\t\t\t<ul>\n\t\t\t\t<li v-for=\"server in servers\" :key=\"server.id\">\n\t\t\t\t\t<TokenEditor\n\t\t\t\t\t\t:id=\"parseInt(server.id)\"\n\t\t\t\t\t\t:name=\"server.name\"\n\t\t\t\t\t\t:url=\"server.publishUrl\"\n\t\t\t\t\t\t:token=\"getToken(server.id)\"\n\t\t\t\t\t\t@token-change=\"updateTokens\" />\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div v-if=\"loaded && servers.length === 0\">\n\t\t\t<p>No B2SHARE servers configured! </p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport TokenEditor from './TokenEditor.vue'\n\nexport default {\n\tname: 'PersonalSettings',\n\tcomponents: {\n\t\tTokenEditor,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tservers: [],\n\t\t\ttokens: [],\n\t\t\tloaded: false,\n\t\t}\n\t},\n\n\t/**\n\t * Fetch list of servers when the component is loaded\n\t */\n\tasync mounted() {\n\t\tconst promise = this.loadServers()\n\t\tawait this.loadTokens() // ask for both and then wait\n\t\tawait promise\n\t\tthis.loaded = true\n\t},\n\n\tmethods: {\n\t\tloadServers() {\n\t\t\tconst urlPath = '/apps/b2sharebridge/servers?requesttoken=' + encodeURIComponent(OC.requestToken)\n\n\t\t\treturn axios\n\t\t\t\t.get(generateUrl(urlPath))\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.debug('Loaded servers:')\n\t\t\t\t\tconsole.debug(response)\n\t\t\t\t\tthis.servers = response.data\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error('Fetching B2SHARE servers failed!')\n\t\t\t\t\tconsole.error(error)\n\t\t\t\t})\n\t\t},\n\n\t\tloadTokens() {\n\t\t\tconst urlPath = '/apps/b2sharebridge/apitoken?requesttoken=' + encodeURIComponent(OC.requestToken)\n\n\t\t\treturn axios\n\t\t\t\t.get(generateUrl(urlPath))\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.debug('Loaded tokens:')\n\t\t\t\t\tconsole.debug(response)\n\t\t\t\t\tthis.tokens = response.data\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error('Fetching B2SHARE tokens failed!')\n\t\t\t\t\tconsole.error(error)\n\t\t\t\t})\n\t\t},\n\n\t\tgetToken(serverId) {\n\t\t\treturn this.tokens[serverId] || ''\n\t\t},\n\n\t\tupdateTokens() {\n\t\t\tthis.loadTokens()\n\t\t\tthis.$forceUpdate()\n\t\t},\n\t},\n}\n</script>\n\n<style>\n#bridgepersonal {\n\tpadding: 10px;\n}\n</style>\n","<template>\n\t<div class=\"bridgetoken\">\n\t\t<h3>{{ name }}</h3>\n\t\t<div class=\"bridgetoken__fields\">\n\t\t\t<a :href=\"url + '/user'\">{{ url }}</a>\n\t\t\t<NcPasswordField\n\t\t\t\tv-model=\"mutable_token\"\n\t\t\t\tlabel=\"Token\"\n\t\t\t\tplaceholder=\"Token\"\n\t\t\t\t:minlength=\"60\"\n\t\t\t\t:maxlength=\"60\"\n\t\t\t\t:success=\"getSuccess()\"\n\t\t\t\t:error=\"getError()\"\n\t\t\t\t:helper-text=\"getHelperText()\"\n\t\t\t\t@valid=\"saveToken\"\n\t\t\t\t@update:model-value=\"saveToken\" />\n\t\t\t<div class=\"bridgetoken__fields__buttons\">\n\t\t\t\t<NcButton variant=\"error\" aria-label=\"Delete Token\" @click=\"deleteToken\">\n\t\t\t\t\tDelete Token\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport { NcButton, NcPasswordField } from '@nextcloud/vue'\n\nexport default {\n\tname: 'TokenEditor',\n\tcomponents: {\n\t\tNcPasswordField,\n\t\tNcButton,\n\t},\n\n\tprops: {\n\t\tid: { required: true, type: Number },\n\t\tname: { required: true, type: String },\n\t\turl: { required: true, type: String },\n\t\ttoken: { default: '', type: String },\n\t},\n\n\temits: ['token-change'],\n\n\tdata() {\n\t\treturn {\n\t\t\tmutable_token: this.token,\n\t\t\thelpertext: '',\n\t\t\ttoken_validated: null,\n\t\t}\n\t},\n\n\tasync mounted() {\n\t\tif (this.mutable_token.length === 60) {\n\t\t\tconst data = {\n\t\t\t\trequesttoken: OC.requesttoken,\n\t\t\t\ttoken: this.mutable_token,\n\t\t\t\tserverid: this.id,\n\t\t\t}\n\t\t\taxios.post(generateUrl('/apps/b2sharebridge/apitoken'), data)\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.info('Saved token!')\n\t\t\t\t\tthis.$emit('token-change', this.id)\n\t\t\t\t\tthis.token_validated = true\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error('Could not save token')\n\t\t\t\t\tconsole.debug(error)\n\t\t\t\t\tthis.token_validated = false\n\t\t\t\t})\n\t\t}\n\t},\n\n\tmethods: {\n\t\tsaveToken() {\n\t\t\tif (!this.canSave()) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this.mutable_token.length !== 60) {\n\t\t\t\tconsole.debug('token has wrong length!', this.mutable_token.length)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst data = {\n\t\t\t\trequesttoken: OC.requesttoken,\n\t\t\t\ttoken: this.mutable_token,\n\t\t\t\tserverid: this.id,\n\t\t\t}\n\t\t\taxios.post(generateUrl('/apps/b2sharebridge/apitoken'), data)\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.info('Saved token!')\n\t\t\t\t\tthis.$emit('token-change', this.id)\n\t\t\t\t\tthis.token_validated = true\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error('Could not save token')\n\t\t\t\t\tconsole.debug(error)\n\t\t\t\t\tthis.token_validated = false\n\t\t\t\t})\n\t\t},\n\n\t\tgetHelperText() {\n\t\t\tif (this.mutable_token.length === 60) {\n\t\t\t\tif (!this.token_validated) {\n\t\t\t\t\treturn 'Server token validation failed! Please create a new token!'\n\t\t\t\t}\n\t\t\t\treturn 'Token saved and validated'\n\t\t\t} else if (this.mutable_token.length === 0) {\n\t\t\t\treturn 'Copy your token from b2share'\n\t\t\t}\n\t\t\treturn 'A token has 60 characters'\n\t\t},\n\n\t\tgetSuccess() {\n\t\t\treturn this.mutable_token.length === 60 && this.token_validated\n\t\t},\n\n\t\tgetError() {\n\t\t\treturn this.mutable_token.length !== 0 && !this.token_validated\n\t\t},\n\n\t\tdeleteToken() {\n\t\t\taxios.delete(generateUrl('/apps/b2sharebridge/apitoken/' + this.id))\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.info('Deleted token!')\n\t\t\t\t\tthis.mutable_token = ''\n\t\t\t\t\tthis.token_validated = null\n\t\t\t\t\tthis.$emit('token-change', this.id)\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error('Could not delete token')\n\t\t\t\t\tconsole.debug(error)\n\t\t\t\t})\n\t\t},\n\n\t\tcanSave() {\n\t\t\treturn this.mutable_token !== this.token && this.mutable_token !== ''\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.bridgetoken {\n\tborder-bottom: 1px solid var(--color-border);\n\n\t&__fields {\n\t\tmax-width: 600px;\n\t\tmargin-bottom: 10px;\n\n\t\t&__buttons {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: end;\n\t\t}\n\t}\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./TokenEditor.vue?vue&type=style&index=0&id=20ea2ead&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./TokenEditor.vue?vue&type=style&index=0&id=20ea2ead&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render } from \"./TokenEditor.vue?vue&type=template&id=20ea2ead&scoped=true\"\nimport script from \"./TokenEditor.vue?vue&type=script&lang=js\"\nexport * from \"./TokenEditor.vue?vue&type=script&lang=js\"\n\nimport \"./TokenEditor.vue?vue&type=style&index=0&id=20ea2ead&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20ea2ead\"]])\n\nexport default __exports__","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./PersonalSettings.vue?vue&type=style&index=0&id=49352d8c&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[11].use[0]!./PersonalSettings.vue?vue&type=style&index=0&id=49352d8c&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render } from \"./PersonalSettings.vue?vue&type=template&id=49352d8c\"\nimport script from \"./PersonalSettings.vue?vue&type=script&lang=js\"\nexport * from \"./PersonalSettings.vue?vue&type=script&lang=js\"\n\nimport \"./PersonalSettings.vue?vue&type=style&index=0&id=49352d8c&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { generateFilePath } from '@nextcloud/router'\nimport { createApp } from 'vue'\nimport PersonalSettings from './components/PersonalSettings.vue'\nimport { t, n } from '@nextcloud/l10n'\n\n__webpack_nonce__ = btoa(OC.requestToken)\n// eslint-disable-next-line\n__webpack_public_path__ = generateFilePath('b2sharebridge', '', 'js/')\n\nconst app = createApp(PersonalSettings)\napp.mixin({ methods: { t, n } })\napp.mount('#b2sharebridge-personal-settings')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","// The chunk loading function for additional chunks\n// Since all referenced chunks are already included\n// in this file, this function is empty here.\n__webpack_require__.e = () => (Promise.resolve());","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = \"settingspersonal\";","__webpack_require__.p = \"/apps/b2sharebridge/js/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"settingspersonal\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkb2sharebridge\"] = self[\"webpackChunkb2sharebridge\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors\"], () => (__webpack_require__(7770)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","___CSS_LOADER_EXPORT___","push","module","id","class","name","components","NcPasswordField","NcButton","props","required","type","Number","String","url","token","default","emits","data","mutable_token","this","helpertext","token_validated","mounted","length","requesttoken","OC","serverid","axios","post","generateUrl","then","console","info","$emit","catch","error","debug","methods","saveToken","canSave","getHelperText","getSuccess","getError","deleteToken","delete","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","TokenEditor","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$props","_hoisted_2","href","_hoisted_3","_createVNode","_component_NcPasswordField","$data","$event","$options","label","placeholder","minlength","maxlength","success","onValid","_hoisted_4","_component_NcButton","variant","onClick","_cache","servers","tokens","loaded","promise","loadServers","loadTokens","urlPath","encodeURIComponent","requestToken","get","response","getToken","serverId","updateTokens","$forceUpdate","_Fragment","_renderList","server","key","_component_TokenEditor","parseInt","publishUrl","onTokenChange","__webpack_nonce__","btoa","__webpack_public_path__","generateFilePath","app","createApp","PersonalSettings","mixin","t","n","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","e","Promise","resolve","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","value","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","nc","__webpack_exports__"],"sourceRoot":""}